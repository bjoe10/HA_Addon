
# HA_Addon/shlink/config.yaml
name: Shlink Server (API)
slug: shlink
version: "0.1.0"
description: "Shlink URL-Shortener (Server & REST API) als Home Assistant Add-on."
arch:
  - amd64
  - aarch64
  - armv7
  - armhf
  - i386

startup: services
boot: auto

# Shlink lauscht im Container auf 8080
ports:
  8080/tcp: null
ports_description:
  8080/tcp: "Shlink API (HTTP)"

# Praktischer Link zur API-Basis (Health/Version)
webui: "http://[HOST]:[PORT:8080]"

# GUI-Optionen (Defaultwerte)
options:
  default_domain: "s.example"   # z. B. s.deine-domain.tld (ohne http/https)
  is_https_enabled: true
  geolite_license_key: ""
  initial_api_key: ""           # leer lassen -> wird automatisch generiert und gespeichert
  db_driver: "sqlite"           # sqlite|mysql|maria|postgres|mssql
  db_host: ""
  db_port: 0                    # 0 = Auto je nach Treiber
  db_name: "shlink"
  db_user: ""
  db_password: ""
  timezone: "UTC"
  trusted_proxies: ""

# Schema (erzwingt/erlaubt Eingaben & sorgt daf√ºr, dass Optionen in /data/options.json landen)
schema:
  default_domain: str
  is_https_enabled: bool
  geolite_license_key: password
  initial_api_key: password
  db_driver: str
  db_host: str
  db_port: int
  db_name: str
  db_user: str
  db_password: password
  timezone: str
  trusted_proxies: str
